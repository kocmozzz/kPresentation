Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var s=Array.prototype.slice.call(arguments,1),i=this,e=function(){},n=function(){return i.apply(this instanceof e&&t?this:t,s.concat(Array.prototype.slice.call(arguments)))};return e.prototype=this.prototype,n.prototype=new e,n}),function(){this.Helper=function(){},Helper.prototype.extendDefaultOptions=function(t,s){var i;for(i in s)s.hasOwnProperty(i)&&(t[i]=s[i]);return t}}(),function(t,s){function i(t){console.warn(t)}function e(){return 1/Math.max(this.domObj.clientWidth/t.innerWidth,this.domObj.clientHeight/t.innerHeight)}function n(t){var s=this;t="undefined"==typeof t?e.call(this):t,this.options.browserPrefixes.forEach(function(i){s.domObj.style[i]="scale("+t+")"})}function o(){return this.activeSlide?100/(this.slidesCount-1)*this.activeSlide:0}function a(){this.progressBar.style.width=o.call(this)+"%"}function r(t){var s=t.target,i=this.slideTagName.toUpperCase();if(s.tagName!==i)for(;s.tagName!==i;)s=s.parentNode;this.goto(this.slides.indexOf(s))}this.KPresentation=function(t,e){function n(){var t=this;t.progressBar=s.createElement("div"),t.progressBar.className=t.options.progressbarClass,t.domObj.appendChild(t.progressBar)}function o(){if(!this.slidesCount)throw new i("No slides available. Check slides class selector.");this.slides[0].classList.add(this.options.activeSlideClass),n.call(this)}return this.options={activePresentationClass:"is-shown",navigatedPresentationClass:"is-navigated",activeBodyClass:"show-started",activeSlideClass:"active",progressbarClass:"k-presentation-progress",browserPrefixes:["WebkitTransform","MozTransform","msTransform","OTransform","transform"]},this.isShown=!1,this.isNavigated=!1,this.selected=!1,this.slides=[],this.activeSlide=0,this.slidesCount=0,this.progressBar={},this.domObj=t,this.slideTagName=e,this.slides=this.domObj.getElementsByTagName(this.slideTagName),this.slides=Array.prototype.slice.call(this.slides),this.slidesCount=this.slides.length,o.call(this),this},KPresentation.prototype=new Helper,KPresentation.prototype.startNavigatePresentation=function(){this.isNavigated=!0,this.domObj.classList.add(this.options.navigatedPresentationClass),this.domObj.addEventListener("click",r.bind(this),!1)},KPresentation.prototype.stopNavigatePresentation=function(){this.isNavigated=!1,this.domObj.classList.remove(this.options.navigatedPresentationClass),this.domObj.removeEventListener("click",r.bind(this),!1)},KPresentation.prototype.startPresentation=function(){return this.isShown?void 0:(this.domObj.classList.add(this.options.activePresentationClass),s.body.classList.add(this.options.activeBodyClass),this.domObj.classList.remove(this.options.navigatedPresentationClass),this.isShown=!0,n.call(this),this)},KPresentation.prototype.stopPresentation=function(){return this.domObj.classList.remove(this.options.activePresentationClass),s.body.classList.remove(this.options.activeBodyClass),this.domObj.classList.add(this.options.navigatedPresentationClass),this.isShown=!1,n.apply(this,[1]),this},KPresentation.prototype.next=function(){return this.checkLast()?void 0:(this.slides[this.activeSlide].classList.remove(this.options.activeSlideClass),this.activeSlide++,this.slides[this.activeSlide].classList.add(this.options.activeSlideClass),a.call(this),this)},KPresentation.prototype.prev=function(){return this.checkFirst()?void 0:(this.slides[this.activeSlide].classList.remove(this.options.activeSlideClass),this.activeSlide--,this.slides[this.activeSlide].classList.add(this.options.activeSlideClass),a.call(this),this)},KPresentation.prototype.goto=function(t){return 0>t||t>this.slidesCount-1?!1:(this.slides[this.activeSlide].classList.remove(this.options.activeSlideClass),this.activeSlide=t,this.slides[this.activeSlide].classList.add(this.options.activeSlideClass),a.call(this),this.isShown||this.startPresentation(),this)},KPresentation.prototype.checkLast=function(){return this.activeSlide===this.slidesCount-1},KPresentation.prototype.checkFirst=function(){return 0===this.activeSlide},KPresentation.prototype.handle=function(t){if(!this.isShown&&!this.isNavigated)return!1;switch(t){case"button:esc":if(!this.isShown&&this.isNavigated){this.stopNavigatePresentation();break}this.stopPresentation();break;case"button:prev":this.prev();break;case"button:next":this.next();break;case"button:space":this.next();break;case"button:enter":!this.isShown&&this.isNavigated&&this.startPresentation();break;case"window:resize":if(!this.isShown)break;n.call(this)}}}(this,this.document),function(t,s){this.KShow=function(){function i(){this.presentationsDomObjects=s.getElementsByClassName(this.options.presentationClass),this.presentationsDomObjects=Array.prototype.slice.call(this.presentationsDomObjects);var t=this.presentationsDomObjects.length;t||console.warn("No presentations available. Check presentations class selector.");for(var i=0;t>i;i++)this.add(new KPresentation(this.presentationsDomObjects[i],this.options.slideTag))}function e(){var i=this;s.addEventListener("keydown",i.handlers.keydown.bind(i)),t.addEventListener("resize",i.handlers.resize.bind(i)),i.presentationsDomObjects.forEach(function(t){t.addEventListener("click",i.handlers.start.bind(i),!1)})}var n={presentationClass:"k-presentation",slideTag:"section",hiddenClass:"hidden"},o=this;return KShow=function(){return o},KShow.prototype=this,o=new KShow,o.constructor=KShow(),this.presentations=[],this.options=arguments[0]&&"object"==typeof arguments[0]?this.extendDefaultOptions(n,arguments[0]):n,this.handlers={keydown:function(t){switch(t||(t=event),t.keyCode){case 27:this.notify("button:esc"),this.handlers.stop.call(this);break;case 37:this.notify("button:prev");break;case 39:this.notify("button:next");break;case 32:this.notify("button:space");break;case 13:this.notify("button:enter")}},resize:function(){this.notify("window:resize")},start:function(t){var s=t.target;if(!s.classList.contains(this.options.presentationClass))for(;!s.classList.contains(this.options.presentationClass);)s=s.parentNode;var i=this.presentationsDomObjects.indexOf(s);if(-1!==i){if(this.presentations[i].isNavigated)return!1;this.presentations[i].startNavigatePresentation();for(var e=0,n=this.presentationsDomObjects.length;n>e;e++)e!=i&&this.presentationsDomObjects[e].classList.add(this.options.hiddenClass)}t.stopImmediatePropagation()},stop:function(){var t=this.presentations.filter(function(t){return t.isNavigated});if(!t.length)for(var s=0,i=this.presentationsDomObjects.length;i>s;s++)this.presentationsDomObjects[s].classList.remove(this.options.hiddenClass)}},i.call(this),e.call(this),o},KShow.prototype=new Helper,KShow.prototype.add=function(t){return this.presentations.push(t),this},KShow.prototype.count=function(){return this.presentations.length},KShow.prototype.get=function(t){return t>-1&&t<this.presentations.length?this.presentations[t]:!1},KShow.prototype.remove=function(t){return this.presentations.splice(t,1),this},KShow.prototype.notify=function(t){for(var s=this.count(),i=0;s>i;i++)this.get(i).handle(t)}}(this,this.document);
//# sourceMappingURL=maps/kpresentations.min.js.map