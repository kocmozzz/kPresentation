Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var s=Array.prototype.slice.call(arguments,1),i=this,e=function(){},n=function(){return i.apply(this instanceof e&&t?this:t,s.concat(Array.prototype.slice.call(arguments)))};return e.prototype=this.prototype,n.prototype=new e,n}),function(){this.Helper=function(){},Helper.prototype.extendDefaultOptions=function(t,s){var i;for(i in s)s.hasOwnProperty(i)&&(t[i]=s[i]);return t}}(),function(t,s){function i(t){console.warn(t)}this.KPresentation=function(e,n){function o(){var t=this;t.progressBar=s.createElement("div"),t.progressBar.className=t.options.progressbarClass,t.domObj.appendChild(t.progressBar)}function a(){if(!this.slidesCount)throw new i("No slides available. Check slides class selector.");this.slides[0].classList.add(this.options.activeSlideClass),o.call(this)}function r(){return 1/Math.max(this.domObj.clientWidth/t.innerWidth,this.domObj.clientHeight/t.innerHeight)}function h(){return this.activeSlide?100/(this.slidesCount-1)*this.activeSlide:0}return this.options={activePresentationClass:"is-shown",navigatedPresentationClass:"is-navigated",activeBodyClass:"show-started",activeSlideClass:"active",progressbarClass:"k-presentation-progress",browserPrefixes:["WebkitTransform","MozTransform","msTransform","OTransform","transform"]},this.isShown=!1,this.isNavigated=!1,this.selected=!1,this.slides=[],this.activeSlide=0,this.slidesCount=0,this.progressBar={},this.domObj=e,this.slideTagName=n,this.slides=this.domObj.getElementsByTagName(this.slideTagName),this.slides=Array.prototype.slice.call(this.slides),this.slidesCount=this.slides.length,a.call(this),this.resize=function(t){var s=this;t="undefined"==typeof t||"object"==typeof t?r.call(this):t,this.options.browserPrefixes.forEach(function(i){s.domObj.style[i]="scale("+t+")"})}.bind(this),this.updateProgress=function(){this.progressBar.style.width=h.call(this)+"%"}.bind(this),this.slideClick=function(t){var s=t.target,i=this.slideTagName.toUpperCase();if(s.tagName!==i)for(;s.tagName!==i;)s=s.parentNode;this.goto(this.slides.indexOf(s))}.bind(this),this.keyPress=function(t){switch(t.keyCode){case 27:if(!this.isShown){this.stopNavigatePresentation();break}this.stopPresentation();break;case 37:this.prev();break;case 39:this.next();break;case 32:this.next();break;case 13:!this.isShown&&this.isNavigated&&this.startPresentation()}}.bind(this),this};var e=s.createEvent("Event");e.initEvent("presentation:closed",!0,!0),KPresentation.prototype.startNavigatePresentation=function(){this.isNavigated=!0,this.domObj.classList.add(this.options.navigatedPresentationClass),this.domObj.addEventListener("click",this.slideClick,!1),t.addEventListener("keydown",this.keyPress,!1)},KPresentation.prototype.stopNavigatePresentation=function(){this.isNavigated=!1,this.domObj.classList.remove(this.options.navigatedPresentationClass),this.domObj.removeEventListener("click",this.slideClick,!1),t.removeEventListener("keydown",this.keyPress,!1),s.body.dispatchEvent(e)},KPresentation.prototype.startPresentation=function(){return this.isShown?void 0:(this.domObj.classList.add(this.options.activePresentationClass),s.body.classList.add(this.options.activeBodyClass),this.domObj.classList.remove(this.options.navigatedPresentationClass),this.isShown=!0,this.resize(),t.addEventListener("resize",this.resize),this)},KPresentation.prototype.stopPresentation=function(){return this.domObj.classList.remove(this.options.activePresentationClass),s.body.classList.remove(this.options.activeBodyClass),this.domObj.classList.add(this.options.navigatedPresentationClass),this.isShown=!1,t.removeEventListener("resize",this.resize),this.resize(1),this},KPresentation.prototype.next=function(){return this.checkLast()?void 0:(this.slides[this.activeSlide].classList.remove(this.options.activeSlideClass),this.activeSlide++,this.slides[this.activeSlide].classList.add(this.options.activeSlideClass),this.updateProgress(),this)},KPresentation.prototype.prev=function(){return this.checkFirst()?void 0:(this.slides[this.activeSlide].classList.remove(this.options.activeSlideClass),this.activeSlide--,this.slides[this.activeSlide].classList.add(this.options.activeSlideClass),this.updateProgress(),this)},KPresentation.prototype.goto=function(t){return 0>t||t>this.slidesCount-1?!1:(this.slides[this.activeSlide].classList.remove(this.options.activeSlideClass),this.activeSlide=t,this.slides[this.activeSlide].classList.add(this.options.activeSlideClass),this.updateProgress(),this.isShown||this.startPresentation(),this)},KPresentation.prototype.checkLast=function(){return this.activeSlide===this.slidesCount-1},KPresentation.prototype.checkFirst=function(){return 0===this.activeSlide}}(this,this.document),function(t,s){this.KShow=function(){function t(){this.presentationsDomObjects=s.getElementsByClassName(this.options.presentationClass),this.presentationsDomObjects=Array.prototype.slice.call(this.presentationsDomObjects);var t=this.presentationsDomObjects.length;t||console.warn("No presentations available. Check presentations class selector.");for(var i=0;t>i;i++)this.add(new KPresentation(this.presentationsDomObjects[i],this.options.slideTag))}function i(){var t=this;t.presentationsDomObjects.forEach(function(s){s.addEventListener("click",t.handlers.start.bind(t),!1)}),s.addEventListener("presentation:closed",t.handlers.stop.bind(t))}var e={presentationClass:"k-presentation",slideTag:"section",hiddenClass:"hidden"},n=this;return KShow=function(){return n},KShow.prototype=this,n=new KShow,n.constructor=KShow(),this.presentations=[],this.options=arguments[0]&&"object"==typeof arguments[0]?this.extendDefaultOptions(e,arguments[0]):e,this.handlers={start:function(t){var s=t.target;if(!s.classList.contains(this.options.presentationClass))for(;!s.classList.contains(this.options.presentationClass);)s=s.parentNode;var i=this.presentationsDomObjects.indexOf(s);if(-1!==i){if(this.presentations[i].isNavigated)return!1;this.presentations[i].startNavigatePresentation();for(var e=0,n=this.presentationsDomObjects.length;n>e;e++)e!==i&&this.presentationsDomObjects[e].classList.add(this.options.hiddenClass)}t.stopImmediatePropagation()},stop:function(){for(var t=0,s=this.presentationsDomObjects.length;s>t;t++)this.presentationsDomObjects[t].classList.remove(this.options.hiddenClass)}},t.call(this),i.call(this),n},KShow.prototype=new Helper,KShow.prototype.add=function(t){return this.presentations.push(t),this},KShow.prototype.count=function(){return this.presentations.length},KShow.prototype.get=function(t){return t>-1&&t<this.presentations.length?this.presentations[t]:!1},KShow.prototype.remove=function(t){return this.presentations.splice(t,1),this}}(this,this.document);
//# sourceMappingURL=maps/kpresentations.min.js.map